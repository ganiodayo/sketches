<html>
<head>
</head>
<body>
</body>
<script type="text/javascript">
var u = Math.floor(Math.min(window.innerWidth, window.innerHeight) / 7);
var rects = [];

function setup(){
	document.body.style.backgroundColor = 'blue';

	var square = document.createElement('div');
	square.style.width = u;
	square.style.height = u;
	square.style.backgroundColor = 'white';
	square.style.position = 'absolute';
	square.style.visibility = 'hidden';
	square.style.transform = 'translate(' + 
		(Math.floor(window.innerWidth/2 - (u*5)/2)) + 'px,' +
		(Math.floor(window.innerHeight/2 - (u*5)/2)) + 'px)';

	rects = [];
	for(var y = 0; y < 5; y++){
		for(var x = 0; x < 5; x++){
			var loc = x+y*5;
			rects.push(document.createElement('div'));
			rects[loc].style = square.style.cssText;
			rects[loc].style.top = y*u;
			rects[loc].style.left = x*u;
			document.body.appendChild(rects[loc]);
		}
	}
}

function draw(){
	for(var y = 0; y < 5; y++){
		for(var x = 0; x < 5; x++){
			var loc = x + y*5;
			if(Math.random() < 0.5){
				if(x == 0 || x == 1 || x == 2){
					rects[loc].style.visibility = 'visible';
				}
				if(x == 3){
				   	rects[loc].style.visibility = rects[loc-2].style.visibility;
				 }
				if(x == 4){
				   	rects[loc].style.visibility = rects[loc-4].style.visibility;
				}
			} else {
				if(x == 0 || x == 1 || x == 2){
					rects[loc].style.visibility = 'hidden';
				}
				if(x == 3){
				   	rects[loc].style.visibility = rects[loc-2].style.visibility;
				 }
				if(x == 4){
				   	rects[loc].style.visibility = rects[loc-4].style.visibility;
				}
			}
		}
	}

	setTimeout(function() {
        requestAnimationFrame(draw);
    }, 1000 );

};	

setup();
draw();
</script>


</html>